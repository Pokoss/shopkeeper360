import{r as o,j as e,a as v,y as m}from"./app-D1vVKMss.js";import{A as N}from"./AdminLayout-CavAOtLz.js";function k({auth:h,transactions:a,totalTransactionCount:t,currentMonth:p,currentYear:g}){var x;const[r,u]=o.useState(p),[n,f]=o.useState(g),c=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],d=[],i=new Date().getFullYear();for(let l=i;l>=i-5;l--)d.push(l);const b=()=>{m.get("/admin/analytics/transactions",{month:r,year:n})},j=l=>({basic:"bg-blue-100 text-blue-800",standard:"bg-purple-100 text-purple-800",premium:"bg-yellow-100 text-yellow-800"})[l]||"bg-gray-100 text-gray-800",y=l=>l>=100?"bg-green-100 text-green-800":l>=50?"bg-blue-100 text-blue-800":l>=20?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800";return e.jsxs(N,{auth:h,children:[e.jsx(v,{title:"Company Transactions - Analytics"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Company Transactions"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track transaction volumes by company"})]}),e.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-lg p-6 text-white mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Transaction Summary"}),e.jsxs("div",{className:"flex items-baseline gap-3 mt-1",children:[e.jsx("h2",{className:"text-4xl font-bold",children:a.total||0}),e.jsx("span",{className:"text-green-100 text-lg",children:a.total===1?"company":"companies"})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-green-100 text-sm",children:"with a total of"}),e.jsx("span",{className:"text-2xl font-bold",children:(t==null?void 0:t.toLocaleString())||0}),e.jsx("span",{className:"text-green-100 text-sm",children:t===1?"transaction":"transactions"})]}),e.jsxs("p",{className:"text-green-100 text-xs mt-2",children:["For ",(x=c.find(l=>l.value===parseInt(r)))==null?void 0:x.label," ",n]})]}),e.jsx("div",{className:"bg-white bg-opacity-20 p-4 rounded-full",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:e.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),e.jsx("select",{value:r,onChange:l=>u(parseInt(l.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:c.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))})]}),e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),e.jsx("select",{value:n,onChange:l=>f(parseInt(l.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:d.map(l=>e.jsx("option",{value:l,children:l},l))})]}),e.jsx("button",{onClick:b,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-md hover:from-green-700 hover:to-green-800 transition-all duration-200",children:"Apply Filter"})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gradient-to-r from-green-600 to-green-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Rank"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Company Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Plan"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Transaction Count"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Performance"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.data&&a.data.length>0?a.data.map((l,s)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[s+a.from<=3&&e.jsxs("div",{className:"mr-2",children:[s+a.from===1&&e.jsx("svg",{className:"w-6 h-6 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),s+a.from===2&&e.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),s+a.from===3&&e.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["#",s+a.from]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"font-medium text-gray-900",children:l.company_name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${j(l.plan)}`,children:l.plan?l.plan.charAt(0).toUpperCase()+l.plan.slice(1):"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-lg font-bold text-gray-900",children:l.transaction_count.toLocaleString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${y(l.transaction_count)}`,children:l.transaction_count>=100?"Excellent":l.transaction_count>=50?"Good":l.transaction_count>=20?"Average":"Low"})})]},l.company_id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500",children:"No transactions found for the selected period."})})})]})}),a.data&&a.data.length>0&&e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:a.from})," to"," ",e.jsx("span",{className:"font-medium",children:a.to})," of"," ",e.jsx("span",{className:"font-medium",children:a.total})," results"]}),e.jsx("div",{className:"flex gap-2",children:a.links.map((l,s)=>e.jsx("button",{onClick:()=>m.get(l.url),disabled:!l.url,className:`px-3 py-1 rounded ${l.active?"bg-green-600 text-white":l.url?"bg-white text-gray-700 hover:bg-gray-100":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:l.label}},s))})]})]})]})]})}export{k as default};
