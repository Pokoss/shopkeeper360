import{r as a,j as e,a as A,d as u,y as H,b as E}from"./app-D1vVKMss.js";import{F as V}from"./Footer-BPR8zLRq.js";import{N as W}from"./Navbar-B7w3jmcE.js";import{r as $}from"./index-CIcOjg0T.js";import{Q as F,B as i}from"./react-toastify.esm-DRcUxu9x.js";/* empty css                      */function O({business:t,category:l,products:x,favourite:h}){var b;const[g,N]=a.useState(x.data||[]),[p,k]=a.useState(x.next_page_url),[d,v]=a.useState(!1),[c,L]=a.useState(!!x.next_page_url),[f,M]=a.useState(""),[j,C]=a.useState({}),[m,w]=a.useState(h),n=a.useRef(null),y=r=>{C(s=>({...s,[r]:!0}))};a.useEffect(()=>{w(h)},[h]);const z=r=>{r.preventDefault();var s=t.id;try{H.post("/favourite-business",{company_id:s},{onSuccess:()=>{w(o=>o===0?1:0),i.success(m==0?`${t.name} added to favourite`:`${t.name} removed from favourite`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},onError:o=>{i.error("Failed to update favourite status"),console.error(o)}})}catch(o){i.dismiss(),i.error(o.message||"An error occurred")}},S=async()=>{if(!(d||!c)){v(!0);try{const r=await E.get(p),s=r.data.data;N(o=>[...o,...s]),k(r.data.next_page_url),L(!!r.data.next_page_url)}catch(r){console.error("Error loading more products:",r),i.error("Failed to load more products")}finally{v(!1)}}};a.useEffect(()=>{const r=new IntersectionObserver(s=>{s[0].isIntersecting&&c&&!d&&S()},{threshold:.1});return n.current&&r.observe(n.current),()=>{n.current&&r.unobserve(n.current)}},[c,d,p]);const B=r=>{r.preventDefault(),console.log("Searching for:",f)};return e.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-gray-50 via-blue-50 to-green-50",children:[e.jsx(A,{title:`${t.name} - Products & Services`}),e.jsx(W,{}),e.jsxs("div",{className:"relative font-oswald w-full overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary to-secondary opacity-10"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-12 lg:px-8",children:e.jsx("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 p-8",children:[e.jsx("div",{className:"lg:col-span-3 flex flex-col items-center justify-center",children:e.jsxs("div",{className:"relative group",children:[j["business-logo"]?e.jsx("div",{className:"w-40 h-40 rounded-full bg-gradient-to-br from-primary/20 via-secondary/20 to-primary/20 flex items-center justify-center",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-20 h-20 text-primary/40",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 01.75-.75h3a.75.75 0 01.75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349m-16.5 11.65V9.35m0 0a3.001 3.001 0 003.75-.615A2.993 2.993 0 009.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 002.25 1.016c.896 0 1.7-.393 2.25-1.016a3.001 3.001 0 003.75.614m-16.5 0a3.004 3.004 0 01-.621-4.72L4.318 3.44A1.5 1.5 0 015.378 3h13.243a1.5 1.5 0 011.06.44l1.19 1.189a3 3 0 01-.621 4.72m-13.5 8.65h3.75a.75.75 0 00.75-.75V13.5a.75.75 0 00-.75-.75H6.75a.75.75 0 00-.75.75v3.75c0 .415.336.75.75.75z"})})}):e.jsx($.Avatar,{className:"ring-4 ring-primary/20 group-hover:ring-primary/40 transition-all duration-300",src:`/${t.logo}`,alt:t.name,size:"xxl",variant:"circular",onError:()=>y("business-logo")}),e.jsx("div",{className:"absolute -bottom-2 -right-2 bg-gradient-to-r from-primary to-secondary p-3 rounded-full shadow-lg",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 text-white",children:e.jsx("path",{fillRule:"evenodd",d:"M16.403 12.652a3 3 0 000-5.304 3 3 0 00-3.75-3.751 3 3 0 00-5.305 0 3 3 0 00-3.751 3.75 3 3 0 000 5.305 3 3 0 003.75 3.751 3 3 0 005.305 0 3 3 0 003.751-3.75zm-2.546-4.46a.75.75 0 00-1.214-.883l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})})]})}),e.jsx("div",{className:"lg:col-span-9",children:e.jsxs("div",{className:"flex flex-col h-full justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-800 mb-2",children:t.name}),l&&l.length>0&&e.jsx("span",{className:"inline-block px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-semibold",children:((b=l[0])==null?void 0:b.name)||"Shop"})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gradient-to-br from-primary/5 to-primary/10 rounded-xl",children:[e.jsx("div",{className:"bg-primary/20 p-2 rounded-lg",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-primary",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-500 font-semibold mb-1",children:"Contact"}),e.jsx("p",{className:"font-bold text-gray-800",children:t.contacts})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gradient-to-br from-secondary/5 to-secondary/10 rounded-xl",children:[e.jsx("div",{className:"bg-secondary/20 p-2 rounded-lg",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-secondary",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-500 font-semibold mb-1",children:"Location"}),e.jsx("p",{className:"font-bold text-gray-800",children:t.location})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(u,{href:"/businesscart",className:"group relative overflow-hidden bg-gradient-to-r from-secondary to-secondary/90 hover:from-secondary hover:to-blue-600 px-6 py-3 rounded-xl font-semibold text-white shadow-lg hover:shadow-2xl hover:shadow-secondary/30 transition-all duration-300 transform hover:-translate-y-1",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})}),e.jsx("span",{children:"My Cart"})]})}),e.jsx("button",{onClick:z,className:`group relative overflow-hidden ${m==0?"bg-white hover:bg-gradient-to-r hover:from-red-500 hover:to-red-600 border-2 border-red-500 text-red-500 hover:text-white":"bg-gradient-to-r from-red-500 to-red-600 text-white hover:from-red-600 hover:to-red-700"} px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-2xl hover:shadow-red-500/30 transition-all duration-300 transform hover:-translate-y-1`,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:m==0?"none":"currentColor",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),e.jsx("span",{children:m==0?"Add to Favorites":"Remove from Favorites"})]})})]})]})})]})})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[l&&l.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-primary to-secondary rounded-full"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Browse by Category"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:l.map((r,s)=>e.jsx(u,{href:`/business/${t.slug}/category/${r.id}`,children:e.jsx("div",{className:"group relative overflow-hidden bg-white hover:bg-gradient-to-r hover:from-primary hover:to-secondary p-6 rounded-2xl shadow-md hover:shadow-2xl hover:shadow-primary/30 transition-all duration-300 transform hover:-translate-y-1",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"bg-primary/10 group-hover:bg-white/20 p-3 rounded-full transition-colors duration-300",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-primary group-hover:text-white transition-colors duration-300",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]})}),e.jsx("p",{className:"text-gray-800 group-hover:text-white font-semibold text-center text-sm transition-colors duration-300",children:r.name})]})})},s))})]}),e.jsx("form",{onSubmit:B,className:"mb-8",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"w-full py-4 pl-12 pr-4 text-gray-700 bg-white border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300 shadow-lg",type:"text",placeholder:"Search for products...",value:f,onChange:r=>M(r.target.value)}),e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-gray-400",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})}),e.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-gradient-to-r from-primary to-secondary px-6 py-2 rounded-xl text-white font-semibold hover:shadow-lg hover:shadow-primary/30 transition-all duration-300",children:"Search"})]})})}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-primary to-secondary rounded-full"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Products & Services"})]}),g.length===0?e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl p-16 flex flex-col items-center justify-center shadow-inner",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"w-20 h-20 text-gray-300 mb-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})}),e.jsx("p",{className:"text-gray-400 text-lg font-medium",children:"No products available yet"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Check back later for new items"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:g.map((r,s)=>e.jsx(u,{href:`/product/${r.slug}`,children:e.jsxs("div",{className:"group cursor-pointer bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl hover:shadow-primary/20 transition-all duration-300 transform hover:-translate-y-2",children:[e.jsxs("div",{className:"relative overflow-hidden h-56 bg-gradient-to-br from-gray-100 to-gray-200",children:[j[`product-${s}`]?e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br from-primary/10 via-secondary/10 to-primary/10",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-primary/40 mb-2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),e.jsx("p",{className:"text-gray-400 text-xs font-medium text-center px-3 line-clamp-2",children:r.product.name})]}):e.jsx("img",{src:`/${r.image}`,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500",alt:r.product.name,onError:()=>y(`product-${s}`)}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx("div",{className:"bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-lg",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-primary",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-base font-bold text-gray-800 group-hover:text-primary transition-colors duration-300 mb-2 line-clamp-2 min-h-[3rem]",children:r.product.name}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 text-red-600",children:[e.jsx("path",{d:"M10.75 10.818v2.614A3.13 3.13 0 0011.888 13c.482-.315.612-.648.612-.875 0-.227-.13-.56-.612-.875a3.13 3.13 0 00-1.138-.432zM8.33 8.62c.053.055.115.11.184.164.208.16.46.284.736.363V6.603a2.45 2.45 0 00-.35.13c-.14.065-.27.143-.386.233-.377.292-.514.627-.514.909 0 .184.058.39.202.592.037.051.08.102.128.152z"}),e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-6a.75.75 0 01.75.75v.316a3.78 3.78 0 011.653.713c.426.33.744.74.925 1.2a.75.75 0 01-1.395.55 1.35 1.35 0 00-.447-.563 2.187 2.187 0 00-.736-.363V9.3c.698.093 1.383.32 1.959.696.787.514 1.29 1.27 1.29 2.13 0 .86-.504 1.616-1.29 2.13-.576.377-1.261.603-1.96.696v.299a.75.75 0 11-1.5 0v-.3c-.697-.092-1.382-.318-1.958-.695-.482-.315-.857-.717-1.078-1.188a.75.75 0 111.359-.636c.08.173.245.376.54.569.313.205.706.353 1.138.432v-2.748a3.782 3.782 0 01-1.653-.713C6.9 9.433 6.5 8.681 6.5 7.875c0-.805.4-1.558 1.097-2.096a3.78 3.78 0 011.653-.713V4.75A.75.75 0 0110 4z",clipRule:"evenodd"})]}),e.jsx("p",{className:"text-lg font-bold text-red-600",children:Intl.NumberFormat("en-US").format(r.product.retail_price)})]}),e.jsx("div",{className:"text-xs text-gray-400 font-medium",children:"UGX"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-100",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"View Details"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-primary group-hover:translate-x-2 transition-transform duration-300",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})]})]})]})},s))}),e.jsxs("div",{ref:n,className:"flex justify-center items-center py-8",children:[d&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading more products..."})]}),!c&&g.length>0&&e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-400 font-medium",children:"You've reached the end"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"No more products to load"})]})]})]})]})]}),e.jsx(F,{}),e.jsx(V,{})]})}export{O as default};
