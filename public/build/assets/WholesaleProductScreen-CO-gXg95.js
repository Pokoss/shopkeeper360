import{r as t,j as s,y as p}from"./app-IpfU5taz.js";import{L as z}from"./Layout-3QDcNzfi.js";import{S as H}from"./react-select.esm-yQlxVGte.js";import{r}from"./index-BF961C8H.js";import{C as R}from"./compressor.esm-BndlrjPy.js";import{X as M}from"./index.es-DByXoPyn.js";import{Q as E,B as a}from"./react-toastify.esm-CcqWisxi.js";/* empty css                      */function W({company:n,products:l,product:_,category:g,measurements:h}){console.log(l);const[x,b]=t.useState(""),[$,y]=t.useState(l.current_page);t.useState(""),t.useState(null);const[u,T]=t.useState(""),[i,j]=t.useState(""),[m,C]=t.useState(""),[v,X]=t.useState(""),[N,F]=t.useState(""),[S,f]=t.useState(null),P=e=>{const o=e.target.files[0];new R(o,{quality:.6,success(c){f(c)},error(c){console.log(c.message)}})},k=e=>{p.get(`/dashboard/${n.company.slug}/wholesale/products`,{page:e,search:x},{preserveState:!0})},D=e=>{y(e),k(e)},I=e=>{e.preventDefault(),b(e.target.value),y(1);var o=e.target.value;p.get(`/dashboard/${n.company.slug}/wholesale/products`,{search:o,page:1},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{}})},L=async e=>{e.preventDefault(),a.loading();var o=n.company_id;if(S==null)a.dismiss(),a.error("Product Image is a must Online");else if(u=="")a.dismiss(),a.error("Select the product");else if(i=="0"||i=="")a.dismiss(),a.error("Select the category");else if(m=="")a.dismiss(),a.error("Select the category");else{a.success("success");try{p.post("/add-wholesale-product",{companyId:o,productId:u,categoryId:i,image:S,description:m,productName:v},{onSuccess:()=>{a.success("Product added successfully"),d(),o(""),u(""),j(""),v(""),f(null)}})}catch(c){a.dismiss(),a.error(c)}}};t.useState([]);const[w,B]=t.useState(null),d=e=>B(e);t.useState(null);const O={headRow:{style:{border:"none"}},headCells:{style:{color:"#997400",fontSize:"14px"}},rows:{highlightOnHoverStyle:{backgroundColor:"rgb(230, 244, 244)",borderBottomColor:"#FFFFFF",outline:"1px solid #FFFFFF"}},pagination:{style:{border:"none"}}},A=[{selector:e=>s.jsx("img",{className:"h-28 w-28 object-cover rounded-md",src:"/"+e.image})},{name:"Name",selector:e=>e.product.name},{name:"Category",selector:e=>e.category.name},{name:"Description",selector:e=>e.description},,{name:"Added On",selector:e=>new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},{selector:e=>s.jsx("button",{onClick:()=>editEmployee(e.user.name,e.user.email,e.position,e.id),className:"bg-green-600 rounded-md p-1",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"white",className:"w-5 h-5",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})})})}];return s.jsxs("div",{children:[s.jsx(M,{title:s.jsxs("div",{className:"flex flex-col md:flex-row space-x-0 md:space-x-5 space-y-5 md:space-y-0 whitespace-nowrap items-start md:items-center justify-between w-full border-b-2 border-primary pb-3 pt-2",children:[s.jsx("span",{children:"Wholesale Product"}),s.jsxs("div",{className:"flex space-x-3 items-center md:space-x-5 w-full md:w-1/2 md:justify-end print:hidden",children:[s.jsx(r.Input,{type:"text",label:"Search",value:x,onChange:I,className:"md:w-full"}),s.jsx("span",{children:s.jsxs(r.Button,{size:"sm",color:"success",type:"submit",className:"flex h-10 items-center bg-primary",onClick:()=>d("xl"),children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"mr-2 w-5 h-5",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Add"]})})]})]}),columns:A,data:l.data,customStyles:O,pointerOnHover:!0,onRowClicked:(e,o)=>!children&&ExpandableComponent?null:editRow(e,o),highlightOnHover:!0,pagination:!0,paginationServer:!0,paginationTotalRows:l.total,paginationPerPage:l.per_page,onChangePage:D,paginationRowsPerPageOptions:[]}),s.jsx(t.Fragment,{children:s.jsxs(r.Dialog,{open:w==="xl",size:w,handler:d,children:[s.jsx(r.DialogHeader,{children:s.jsx(r.Typography,{variant:"h5",color:"blue-gray",children:"Add a product"})}),s.jsxs("form",{onSubmit:L,children:[s.jsxs(r.DialogBody,{divider:!0,className:"h-[28rem] overflow-scroll grid place-items-center gap-4",children:[s.jsx(r.Input,{label:"Company Logo",accept:".jpg,.jpeg,.png",size:"md",type:"file",onChange:P}),s.jsxs("select",{className:"w-full",value:i,onChange:e=>j(e.target.value),children:[s.jsx("option",{value:0,className:"bg-gray-200",children:" Select the category......."}),g&&g.map((e,o)=>s.jsxs("option",{value:e.id,children:[" ",e.name]}))]}),s.jsx(r.Input,{label:"Description",value:m,onChange:e=>C(e.target.value),size:"sm"}),s.jsx(H,{color:"deep-orange",label:"Measurement",value:N,onChange:e=>F(e),children:h&&h.map((e,o)=>s.jsxs(Option,{value:e.id,children:[" ",e.name," (",e.abbriviation,")"]}))})]}),s.jsxs(r.DialogFooter,{className:"space-x-2",children:[s.jsx(r.Button,{onClick:d,variant:"gradient",color:"blue-gray",children:"Close"}),s.jsx(r.Button,{type:"submit",className:"bg-primary",children:"Add"})]})]})]})}),s.jsx(E,{})]})}W.layout=n=>s.jsx(z,{children:n,props:n.props.company});export{W as default};
