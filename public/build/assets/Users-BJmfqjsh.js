import{j as e,a as x,y as o}from"./app-NW_fgNe6.js";import{A as m}from"./AdminLayout-DtmOyY23.js";function g({auth:n,users:a}){const r=t=>{if(!t)return"Never";const l=new Date(t),i=Math.abs(new Date-l),s=Math.floor(i/(1e3*60*60*24));return s===0?"Today":s===1?"Yesterday":`${s} days ago`},d=t=>{if(!t)return"bg-gray-100 text-gray-800";const l=new Date(t),i=Math.abs(new Date-l),s=Math.floor(i/(1e3*60*60*24));return s===0?"bg-green-100 text-green-800":s<=7?"bg-blue-100 text-blue-800":s<=30?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"};return e.jsxs(m,{auth:n,children:[e.jsx(x,{title:"User Activity - Analytics"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Registered Users Activity"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track user registration and last login activity"})]}),e.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg p-6 text-white mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total Registered Users"}),e.jsx("h2",{className:"text-4xl font-bold mt-1",children:a.total||0}),e.jsx("p",{className:"text-blue-100 text-sm mt-2",children:"All-time registrations"})]}),e.jsx("div",{className:"bg-white bg-opacity-20 p-4 rounded-full",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-blue-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"User Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Admin Level"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Registered"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Last Login"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Activity Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.data&&a.data.length>0?a.data.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:t.photo_url?e.jsx("img",{className:"h-10 w-10 rounded-full",src:t.photo_url,alt:""}):e.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx("span",{className:"text-purple-600 font-semibold",children:t.name.charAt(0).toUpperCase()})})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"font-medium text-gray-900",children:t.name})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:t.email})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.admin>=1?e.jsxs("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800",children:["Admin ",t.admin]}):e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:"Regular User"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:new Date(t.created_at).toLocaleDateString()}),e.jsx("div",{className:"text-xs text-gray-500",children:r(t.created_at)})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.last_login_at?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm text-gray-900",children:new Date(t.last_login_at).toLocaleDateString()}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(t.last_login_at).toLocaleTimeString()})]}):e.jsx("div",{className:"text-sm text-gray-500",children:"Never logged in"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${d(t.last_login_at)}`,children:r(t.last_login_at)})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:"No users found."})})})]})}),a.data&&a.data.length>0&&e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:a.from})," to"," ",e.jsx("span",{className:"font-medium",children:a.to})," of"," ",e.jsx("span",{className:"font-medium",children:a.total})," results"]}),e.jsx("div",{className:"flex gap-2",children:a.links.map((t,l)=>e.jsx("button",{onClick:()=>o.get(t.url),disabled:!t.url,className:`px-3 py-1 rounded ${t.active?"bg-blue-600 text-white":t.url?"bg-white text-gray-700 hover:bg-gray-100":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label}},l))})]})]})]})]})}export{g as default};
