import{r,j as e,a as T,y as x}from"./app-CGou5Y8K.js";import{L as _}from"./Layout-Dd9R_5FO.js";import{r as t}from"./index-Bck5AY-o.js";import{X as M}from"./index.es-Bkkq-pYS.js";import{Q as X,B as a}from"./react-toastify.esm-BKYMzSy8.js";/* empty css                      */function $({company:o,supplier:l}){console.log(l);const[c,j]=r.useState(""),[u,v]=r.useState(""),[p,f]=r.useState(""),[y,A]=r.useState(""),[D,S]=r.useState(""),[z,b]=r.useState(""),[P,w]=r.useState("");r.useState(10);const[Q,C]=r.useState(l.current_page),[m,h]=r.useState(!1),B=s=>{x.get(`/dashboard/${o.company.slug}/inventory/supplier`,{page:s,search:y},{preserveState:!0,preserveScroll:!0})},E=s=>{C(s),B(s)};function L(s,n,g){d("xl"),S(s),b(n),w(g)}const I=s=>{s.preventDefault(),A(s.target.value),C(1);var n=s.target.value;x.get(`/dashboard/${o.company.slug}/inventory/supplier`,{search:n,page:1},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{}})},H=async s=>{s.preventDefault();var n=o.company_id;if(c=="")a.dismiss(),a.error("Write supplier name/business");else if(u=="")a.dismiss(),a.error("write the number of the supplier");else if(p=="")a.dismiss(),a.error("Write the suppliers address");else{if(m)return;h(!0);try{x.post("/add-supplier",{companyId:n,name:c,address:p,phone:u},{onSuccess:()=>{a.success("registered successfully"),j(""),f(""),v(),i(),h(!1)}})}catch(g){a.dismiss(),a.error(g),h(!1)}}},O={headRow:{style:{backgroundColor:"#f8fafc"}},headCells:{style:{fontWeight:"bold",fontSize:"13px",textTransform:"uppercase",color:"#4CAF50"}},rows:{style:{minHeight:"50px"},highlightOnHoverStyle:{backgroundColor:"#f1f5f9",cursor:"pointer"}}},R=[{name:"Name",selector:s=>s.name},{name:"Phone",selector:s=>s.phone},{name:"Address",selector:s=>s.address},,{name:"Added On",selector:s=>new Date(s.updated_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},{name:"Action",selector:s=>e.jsx("div",{className:"flex gap-4",children:e.jsx("button",{onClick:()=>L(s.name,s.phone,s.address),className:"p-2 bg-green-600 rounded hover:bg-green-700",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"white",className:"w-4 h-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})})})})}],[N,F]=r.useState(null),[k,W]=r.useState(null),i=s=>F(s),d=s=>W(s);return e.jsxs("div",{children:[e.jsx(T,{children:e.jsx("title",{children:"Suppliers"})}),e.jsx(M,{title:e.jsxs("div",{className:"p-2 flex flex-col md:flex-row items-start md:items-center justify-between border-b border-primary pb-3",children:[e.jsx("span",{className:"text-lg font-medium",children:"Supplier"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2 md:mt-0 w-full md:w-1/2",children:[e.jsx(t.Input,{type:"text",label:"Search",value:y,onChange:I}),e.jsxs(t.Button,{onClick:()=>i("xl"),className:" bg-gradient-to-r from-primary to-secondary text-white flex items-center gap-2 h-10",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Add"]})]})]}),columns:R,data:l.data,customStyles:O,pointerOnHover:!0,onRowClicked:(s,n)=>!children&&ExpandableComponent?null:editRow(s,n),highlightOnHover:!0,pagination:!0,paginationServer:!0,paginationTotalRows:l.total,paginationPerPage:l.per_page,onChangePage:E,paginationRowsPerPageOptions:[]}),e.jsx(r.Fragment,{children:e.jsxs(t.Dialog,{open:N==="xl",size:N,handler:i,children:[e.jsx(t.DialogHeader,{children:e.jsx(t.Typography,{variant:"h5",color:"blue-gray",children:"Add a supplier"})}),e.jsxs("form",{onSubmit:H,children:[e.jsxs(t.DialogBody,{divider:!0,className:"grid place-items-center gap-4",children:[e.jsx(t.Input,{label:"Name",value:c,onChange:s=>j(s.target.value),size:"sm"}),e.jsx(t.Input,{label:"Phone",value:u,onChange:s=>v(s.target.value),size:"sm"}),e.jsx(t.Input,{label:"Address",value:p,onChange:s=>f(s.target.value),size:"sm"})]}),e.jsxs(t.DialogFooter,{className:"space-x-2",children:[e.jsx(t.Button,{onClick:i,variant:"gradient",color:"blue-gray",children:"Close"}),e.jsx(t.Button,{disabled:m,type:"submit",className:"bg-primary",children:m?e.jsx(t.Spinner,{size:"sm"}):"Add"})]})]})]})}),e.jsx(r.Fragment,{children:e.jsxs(t.Dialog,{open:k==="xl",size:k,handler:d,children:[e.jsx(t.DialogHeader,{children:e.jsx(t.Typography,{variant:"h5",color:"blue-gray",children:"Edit a supplier"})}),e.jsxs("form",{children:[e.jsxs(t.DialogBody,{divider:!0,className:"grid place-items-center gap-4",children:[e.jsx(t.Input,{label:"Name",value:D,onChange:s=>S(s.target.value),size:"sm"}),e.jsx(t.Input,{label:"Phone",value:z,onChange:s=>b(s.target.value),size:"sm"}),e.jsx(t.Input,{label:"Address",value:P,onChange:s=>w(s.target.value),size:"sm"})]}),e.jsx(t.DialogFooter,{children:e.jsxs("div",{className:"flex w-full justify-between",children:[e.jsx(t.Button,{onClick:d,variant:"gradient",color:"red",children:"Delete"}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(t.Button,{onClick:d,variant:"gradient",color:"blue-gray",children:"Close"}),e.jsx(t.Button,{type:"submit",className:"bg-primary",children:"Edit"})]})]})})]})]})}),e.jsx(X,{})]})}$.layout=o=>e.jsx(_,{children:o,props:o.props.company});export{$ as default};
