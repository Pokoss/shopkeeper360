import{r as x,j as e,a as p,d as r,y as h}from"./app-DlVyhzqO.js";import{A as g}from"./AdminLayout-5ZfzZxkt.js";function f({auth:l,adminUsers:s}){const[c,a]=x.useState(null),[n,d]=x.useState(0),m=t=>{h.post(`/admin/users/${t}/admin-level`,{admin_level:n},{onSuccess:()=>{a(null),alert("Admin level updated successfully")},onError:()=>{alert("Error updating admin level")}})},o=t=>{a(t.id),d(t.admin)};return e.jsxs(g,{auth:l,children:[e.jsx(p,{title:"Admin Users"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Admin Users"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage users with administrative privileges"})]}),e.jsxs(r,{href:"/admin/users",className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-all flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"All Users"]})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-purple-900 mb-2",children:"Admin Level Permissions"}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Level 1:"})," Basic admin - Can view users, companies, and analytics"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Level 2+:"})," Super admin - Can modify admin levels, access system settings"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Level 3+:"})," Custom permissions (define as needed)"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Admin Level"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Last Login"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Member Since"}),l.user.admin>=2&&e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.data&&s.data.length>0?s.data.map(t=>e.jsxs("tr",{className:"hover:bg-purple-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-purple-600 to-indigo-600 flex items-center justify-center text-white font-bold",children:t.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[t.name,t.id===l.user.id&&e.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-800 text-xs rounded-full font-semibold",children:"You"})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",t.id]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:t.email}),t.phone&&e.jsx("div",{className:"text-sm text-gray-500",children:t.phone})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c===t.id&&l.user.admin>=2?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",min:"0",max:"10",value:n,onChange:i=>d(parseInt(i.target.value)),className:"w-20 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-purple-600"}),e.jsx("button",{onClick:()=>m(t.id),className:"px-2 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:"Save"}),e.jsx("button",{onClick:()=>a(null),className:"px-2 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700",children:"Cancel"})]}):e.jsxs("span",{className:`px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full ${t.admin>=2?"bg-purple-100 text-purple-800":"bg-indigo-100 text-indigo-800"}`,children:["Level ",t.admin,t.admin>=2&&" (Super Admin)"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.last_login_at?e.jsxs("div",{children:[e.jsx("div",{children:new Date(t.last_login_at).toLocaleDateString()}),e.jsx("div",{className:"text-xs text-gray-400",children:new Date(t.last_login_at).toLocaleTimeString()})]}):"Never"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(t.created_at).toLocaleDateString()}),l.user.admin>=2&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:t.id!==l.user.id&&e.jsx("button",{onClick:()=>o(t),className:"text-purple-600 hover:text-purple-900 font-medium",children:"Edit Level"})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"No admin users found"})})})]})}),s.links&&s.links.length>3&&e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.prev_page_url&&e.jsx(r,{href:s.prev_page_url,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),s.next_page_url&&e.jsx(r,{href:s.next_page_url,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:s.from})," to ",e.jsx("span",{className:"font-medium",children:s.to})," of"," ",e.jsx("span",{className:"font-medium",children:s.total})," results"]})}),e.jsx("div",{children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:s.links.map((t,i)=>e.jsx(r,{href:t.url||"#",className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${t.active?"z-10 bg-purple-50 border-purple-500 text-purple-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} ${i===0?"rounded-l-md":""} ${i===s.links.length-1?"rounded-r-md":""}`,dangerouslySetInnerHTML:{__html:t.label}},i))})})]})]})]}),l.user.admin<2&&e.jsx("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Note:"})," You need Super Admin privileges (Level 2+) to modify admin levels."]})})]})]})}export{f as default};
