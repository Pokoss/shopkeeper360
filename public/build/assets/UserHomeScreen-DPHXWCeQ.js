import{j as e,r as o,y as f,d as a}from"./app-CDFWxZnz.js";import{F as j}from"./Footer-DYeI4BBp.js";import{N as p}from"./Navbar-De8To8QV.js";import{S as b,a as N}from"./splide.min-DzdkuMDS.js";import"./index-CGzB3BV5.js";function w({title:d,time:r,image:i,price:c}){return e.jsx("div",{children:e.jsx("div",{className:"py-2 border-t border-gray-300 hover:bg-gray-300",children:e.jsxs("div",{className:"flex justify-start items-center",children:[e.jsx("div",{className:"lg:w-auto mr-2 mb-8 lg:mb-0",children:e.jsx("img",{className:"block w-40 h-20 object-cover",src:i,alt:""})}),e.jsx("div",{className:"w-full lg:w-9/12 mr-2 mb-10 lg:mb-0",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"text-sm font-semibold line-clamp-3 text-black hover:underline",children:d}),e.jsx("p",{className:"text-sm font-medium line-clamp-3 text-red-700 hover:underline",children:"UGX "+Intl.NumberFormat("en-US").format(c)}),e.jsx("p",{className:"text-sm font-thin line-clamp-3 text-black hover:underline",children:r})]})})]})})})}function I({businesses:d,products:r,business:i,categories:c}){const[m,u]=o.useState({latitude:null,longtitude:null}),[v,t]=o.useState("");o.useEffect(()=>{h()},[]);const h=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(l=>{const{latitude:s,longitude:x}=l.coords;u({latitude:s,longitude:x}),n(s,x)},g):(n(latitude,longitude),t("Geolocation is not supported by this browser."))},n=(l,s)=>{f.post("/home",{latitude:l,longitude:s})},g=l=>{switch(n(m.latitude,m.longtitude),l.code){case l.PERMISSION_DENIED:t("User denied the request for Geolocation."),console.log(1);break;case l.POSITION_UNAVAILABLE:t("Location information is unavailable."),console.log(2);break;case l.TIMEOUT:t("The request to get user location timed out."),console.log(3);break;case l.UNKNOWN_ERROR:t("An unknown error occurred."),console.log(4);break;default:t("An error occurred."),console.log(5)}};return console.log(r),e.jsxs("div",{className:"font-oswald h-screen w-full scrollbar-thumb-rounded overflow-y-scroll scrollbar-thin scrollbar-thumb-primary scrollbar-track-gray-200",children:[e.jsx(p,{}),e.jsxs("section",{className:"flex flex-col lg:flex-row lg:space-x-5 justify-center items-center bg-gray-100 p-2 lg:p-2",children:[e.jsx("div",{className:"w-full  lg:w-4/6",children:e.jsx(b,{options:{rewind:!0,autoplay:!0},children:i&&i.map(l=>e.jsx(N,{children:e.jsx(a,{className:"items-center w-full",href:`/business/${l.slug}`,children:e.jsxs("div",{className:"flex flex-col items-center justify-center h-full lg:flex-row hover:bg-gray-300",children:[e.jsx("img",{className:"h-96 w-full object-cover bg-white lg:w-3/6 mr-4  sm:h-90",src:`/${l.logo}`,alt:""}),e.jsxs("div",{className:"w-full justify-start lg:w-3/6 lg:flex-1 space-y-4 mt-2 sm:text-center  text-left",children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-primary hover:underline text-left",children:l.name}),e.jsxs("p",{className:"w-full max-w-xl text-md leading-relaxed text-gray-800 lg:ml-0 text-left",children:["Located at ",l.location]}),e.jsx("p",{className:"w-full max-w-xl text-md leading-relaxed text-gray-800 lg:ml-0 text-left",children:l.contacts}),e.jsx("div",{className:"block text-primary rounded-md hover:underline text-left",children:"View this business"})]})]})})}))})}),e.jsxs("div",{className:"hidden md:block w-full lg:w-2/6 text-gray-200",children:[e.jsx("h1",{className:"font-semibold text-lg text-primary",children:"RECENTLY ADDED ITEMS"}),r&&r.map(l=>e.jsx(a,{href:`/product/${l.slug}`,children:e.jsx(w,{image:"/"+l.image,price:l.product.retail_price,title:l.product.name,time:"By "+l.company.name})}))]})]}),e.jsx("div",{className:"w-full fill",children:e.jsxs("div",{className:"mt-3 container mx-auto flex flex-wrap  max-w-full",children:[e.jsxs("main",{className:"p-2 w-full md:w-4/5 flex flex-col items-center",children:[e.jsx("div",{className:"text-2xl mb-5",children:"Hey, how can we help you?"}),e.jsxs("div",{className:"flex justify-center w-full mb-10",children:[e.jsx(a,{children:e.jsxs("div",{className:"bg-yellow-900 hover:bg-primary p-2 mr-4 flex rounded-lg items-center",children:[e.jsx("img",{className:"w-10 h-10",src:"/images/access/search-business.png"}),e.jsx("p",{className:"ml-2 text-gray-200",children:"Search Business"})]})}),e.jsx(a,{href:"/products/nearby",children:e.jsxs("div",{className:"bg-yellow-900 hover:bg-primary p-2 ml-5 flex rounded-lg items-center",children:[e.jsx("img",{className:"w-9 h-9",src:"/images/access/search-product.png"}),e.jsx("p",{className:"ml-2 text-gray-200",children:"Search Product"})]})})]}),c&&c.map(l=>e.jsx("div",{className:"flex w-full justify-center mb-8",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("p",{className:"text-2xl w-full text-center text-primary font-semibold mb-5",children:[l.name," nearby"]}),e.jsx("div",{className:"w-full mt-3 grid grid-cols-2 gap-y-3 gap-x-2 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-3",children:l.businesses&&l.businesses.map(s=>e.jsx(a,{className:"shadow-sm shadow-gray-400",href:`/business/${s.slug}`,children:e.jsxs("div",{className:"cursor-pointer w-full",children:[e.jsx("img",{src:`/${s.logo}`,className:"object-cover w-full h-64 sm:h-90",alt:""}),e.jsxs("div",{className:"p-4 border border-t-0",children:[e.jsx("div",{className:"justify-between",children:e.jsx("p",{"aria-label":"Category",title:"Visit the East",className:"inline-block mb-3 text-lg font-medium   leading-5 transition-colors duration-200 hover:text-deep-purple-accent-700",children:s.name})}),e.jsxs("div",{className:"flex justify-start align-middle",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),e.jsx("p",{className:"ml-2 text-gray-700 text-xs mb-2 font-light",children:s.location})]}),e.jsx("div",{className:"flex justify-start align-middle",children:e.jsx("p",{className:"ml-2 text-red-700 text-xs mb-2 font-light",children:s.distance!=null?`${Intl.NumberFormat("en-US").format((s.distance/1e3).toFixed(1))} km away`:"Distance not available"})})]})]})}))}),e.jsx(a,{href:"/business/category/"+l.slug,children:e.jsxs("button",{className:"bg-primary p-3 text-white shadow-md shadow-gray-300 rounded mt-4",children:["More "+l.name+" nearby"," "]})})]})}))]}),e.jsx("aside",{className:"p-2 w-full md:w-1/5 flex flex-col items-center"})]})}),e.jsx(j,{})]})}export{I as default};
