import{r,j as e,a as W,y as A}from"./app-B2uhcmsl.js";import{C as R}from"./compressor.esm-BndlrjPy.js";import{Q as z,B as l}from"./react-toastify.esm-HPnnqNbD.js";/* empty css                      */import{N as I}from"./Navbar-DNXhIdkG.js";import{F as P}from"./Footer-DP6s8J29.js";import"./index-B1B55QZq.js";function T({category:m}){const[y,x]=r.useState(null),[u,h]=r.useState(null),[n,N]=r.useState(""),[p,w]=r.useState(""),[g,k]=r.useState(""),[j,L]=r.useState(""),[i,C]=r.useState(""),[b,d]=r.useState(!1),[f,S]=r.useState({latitude:null,longitude:null}),[v,a]=r.useState("");r.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(s=>{const{latitude:t,longitude:o}=s.coords;S({latitude:t,longitude:o})},M):a("Geolocation is not supported by this browser.")},[]);const M=s=>{switch(s.code){case s.PERMISSION_DENIED:a("User denied the request for Geolocation.");break;case s.POSITION_UNAVAILABLE:a("Location information is unavailable.");break;case s.TIMEOUT:a("The request to get user location timed out.");break;case s.UNKNOWN_ERROR:a("An unknown error occurred.");break;default:a("An error occurred.")}},B=s=>{const t=s.target.files[0];if(t){const o=new FileReader;o.onloadend=()=>{h(o.result)},o.readAsDataURL(t),new R(t,{quality:.6,success(c){x(c)},error(c){console.log(c.message),l.error("Failed to process image")}})}},E=()=>{x(null),h(null)},F=async s=>{s.preventDefault();var t=f.latitude,o=f.longitude;if(n===""){l.error("Company Name is required");return}if(!i){l.error("Please select a business category");return}d(!0),A.post("/register-company",{logo:y,companyName:n,contact:j,location:p,email:g,categoryId:i,latitude:t,longitude:o},{preserveScroll:!0,onSuccess:()=>{d(!1),l.success("Business registered successfully!")},onError:()=>{d(!1),l.error("Failed to register business")}})};return e.jsxs("div",{className:"font-oswald min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-green-50",children:[e.jsx(W,{children:e.jsx("title",{children:"Register New Business - Biashari"})}),e.jsx(I,{}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("div",{className:"inline-flex items-center justify-center mb-4",children:e.jsx("div",{className:"h-16 w-16 bg-gradient-to-r from-primary to-secondary rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx("svg",{className:"w-9 h-9 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Register New Business"}),e.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Fill in the details below to create your business profile and start managing your operations"})]}),v&&e.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-xl flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-yellow-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-yellow-800",children:"Location Access"}),e.jsx("p",{className:"text-sm text-yellow-700",children:v})]})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:e.jsxs("form",{onSubmit:F,children:[e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Company Logo ",e.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),u?e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsx("img",{src:u,alt:"Logo preview",className:"h-24 w-24 object-cover rounded-lg border-2 border-white shadow-md"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Logo uploaded"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your business logo is ready"})]}),e.jsx("button",{type:"button",onClick:E,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})}):e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:".jpg,.jpeg,.png",onChange:B,className:"hidden",id:"logo-upload"}),e.jsx("label",{htmlFor:"logo-upload",className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer hover:border-primary hover:bg-gray-50 transition-all duration-200 group",children:e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 group-hover:text-primary transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsx("p",{className:"mt-2 text-sm font-semibold text-gray-700 group-hover:text-primary",children:"Click to upload logo"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"PNG, JPG up to 10MB"})]})})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"companyName",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Company Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"companyName",type:"text",value:n,onChange:s=>N(s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 outline-none",placeholder:"Enter your business name",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"category",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Business Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"category",value:i,onChange:s=>C(s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Select a category"}),m&&m.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsx("input",{id:"location",type:"text",value:p,onChange:s=>w(s.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 outline-none",placeholder:"City, State"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"contact",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Contact Number"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),e.jsx("input",{id:"contact",type:"tel",value:j,onChange:s=>L(s.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 outline-none",placeholder:"+1 (555) 000-0000"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("input",{id:"email",type:"email",value:g,onChange:s=>k(s.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 outline-none",placeholder:"business@example.com"})]})]})]}),e.jsxs("div",{className:"px-8 py-6 bg-gray-50 border-t border-gray-100 flex flex-col sm:flex-row gap-3 sm:justify-between sm:items-center",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"text-red-500",children:"*"})," Required fields"]}),e.jsx("button",{type:"submit",disabled:b,className:"w-full sm:w-auto px-8 py-3 bg-gradient-to-r from-primary to-secondary text-white font-semibold rounded-xl hover:from-green-600 hover:to-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-all duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:b?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Registering..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Register Business"]})})]})]})}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Quick Setup"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Get started in minutes"})]})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Secure"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Your data is protected"})]})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Support"}),e.jsx("p",{className:"text-xs text-gray-600",children:"24/7 assistance"})]})]})})]})]}),e.jsx(z,{position:"top-right",autoClose:3e3}),e.jsx(P,{})]})}export{T as default};
