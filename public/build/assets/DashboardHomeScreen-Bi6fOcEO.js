import{j as s,a as j,d as l}from"./app-CGou5Y8K.js";import{L as w}from"./Layout-Dd9R_5FO.js";import{C as N,r as v,e as k,g as $}from"./index-D0bpoaJG.js";import{r as d}from"./index-Bck5AY-o.js";N.register(...v);function y({company:e,sales_today:n,customer_visits:c,out_of_stock:h,top_products:t,sales_data:i,orders:m,profit:o}){console.log(i);const x={labels:i.map(a=>a.day),datasets:[{label:"Sales",data:i.map(a=>a.total_sales),borderColor:"#4f46e5",backgroundColor:"rgba(79, 70, 229, 0.2)",borderWidth:2}]},g={labels:t.map(a=>a.product.name),datasets:[{label:"Quantity",data:t.map(a=>a.total_quantity),backgroundColor:["#6366f1","#10b981","#f59e0b","#ef4444","#3b82f6","#8b5cf6"],borderWidth:1}]},r=({title:a,value:p,icon:b,link:u,color:f})=>s.jsxs(l,{href:u,className:`flex items-center gap-2 px-2 py-4 rounded-xl shadow-md bg-white hover:shadow-xl transition-all border-l-4 ${f}`,children:[s.jsxs("div",{className:"text-gray-700",children:[s.jsx("p",{className:"text-sm font-medium",children:a}),s.jsx("p",{className:"text-lg font-bold",children:p})]}),s.jsx("div",{className:"hidden md:block ml-auto text-2xl",children:b})]});return s.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[s.jsx(j,{children:s.jsx("title",{children:"Dashboard"})}),s.jsxs("div",{className:"p-6 space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-5 gap-6",children:[s.jsx(r,{title:"Today's Sales",value:`UGX ${Intl.NumberFormat().format(n)}`,link:"#",icon:"ðŸ’°",color:"border-blue-500"}),s.jsx(r,{title:"Customers Today",value:c,link:"/medical/records",icon:"ðŸ‘¥",color:"border-red-100"}),s.jsx(r,{title:o>=0?"Profit":"Loss",value:`UGX ${Intl.NumberFormat().format(Math.abs(o))}`,link:`/dashboard/${e.company.slug}/online-portal/orders`,icon:o>=0?"ðŸ˜ƒ":"ðŸ˜­",color:o>=0?"border-green-700":"border-red-700"}),s.jsx(r,{title:"Out of Stock",value:h,link:"/inventory/stock/expired",icon:"âš ï¸",color:"border-red-500"}),s.jsx(r,{title:"Online Orders",value:m,link:`/dashboard/${e.company.slug}/online-portal/orders`,icon:"ðŸ“¦",color:"border-yellow-500"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-700 border-b pb-2 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[(e.position==="dispenser"||e.position==="admin"||e.position==="owner")&&s.jsxs(l,{href:`/dashboard/${e.company.slug}/pos`,className:"bg-white p-4 rounded-lg shadow hover:shadow-lg flex flex-col items-center",children:[s.jsx("img",{src:"/images/access/cart.png",alt:"",className:"w-10"}),s.jsx("span",{className:"text-sm mt-2",children:"Point of Sale"})]}),(e.position==="admin"||e.position==="owner"||e.position==="accountant")&&s.jsxs(l,{href:`/dashboard/${e.company.slug}/sales`,className:"bg-white p-4 rounded-lg shadow hover:shadow-lg flex flex-col items-center",children:[s.jsx("img",{src:"/images/access/pay.png",alt:"",className:"w-10"}),s.jsx("span",{className:"text-sm mt-2",children:"Sales"})]}),(e.position==="admin"||e.position==="owner")&&s.jsxs(l,{href:`/dashboard/${e.company.slug}/inventory/stock`,className:"bg-white p-4 rounded-lg shadow hover:shadow-lg flex flex-col items-center",children:[s.jsx("img",{src:"/images/access/todo.png",alt:"",className:"w-10"}),s.jsx("span",{className:"text-sm mt-2",children:"Stock"})]}),(e.position==="admin"||e.position==="owner")&&s.jsxs(l,{href:`/dashboard/${e.company.slug}/inventory/product`,className:"bg-white p-4 rounded-lg shadow hover:shadow-lg flex flex-col items-center",children:[s.jsx("img",{src:"/images/access/product.png",alt:"",className:"w-10"}),s.jsx("span",{className:"text-sm mt-2",children:"Products"})]}),(e.position==="admin"||e.position==="owner"||e.position==="hr")&&s.jsxs(l,{href:`/dashboard/${e.company.slug}/hr/employee`,className:"bg-white p-4 rounded-lg shadow hover:shadow-lg flex flex-col items-center",children:[s.jsx("img",{src:"/images/access/company.png",alt:"",className:"w-10"}),s.jsx("span",{className:"text-sm mt-2",children:"Employees"})]}),(e.position==="admin"||e.position==="owner"||e.position==="cashier"||e.position==="dispenser")&&s.jsxs(l,{href:`/dashboard/${e.company.slug}/accounting/receipts`,className:"bg-white p-4 rounded-lg shadow hover:shadow-lg flex flex-col items-center",children:[s.jsx("img",{src:"/images/access/income.png",alt:"",className:"w-10"}),s.jsx("span",{className:"text-sm mt-2",children:"Receipts"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow w-full h-[350px] flex flex-col",children:[s.jsx(d.Typography,{variant:"h6",className:"text-center text-indigo-700 mb-2",children:"Weekly Sales"}),s.jsx("div",{className:"flex-1",children:s.jsx(k,{data:x,options:{responsive:!0,maintainAspectRatio:!1}})})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow w-full h-[350px] flex flex-col",children:[s.jsx(d.Typography,{variant:"h6",className:"text-center text-indigo-700 mb-2",children:"Top Products"}),s.jsx("div",{className:"flex-1",children:s.jsx($,{data:g,options:{responsive:!0,maintainAspectRatio:!1}})})]})]})]})]})}y.layout=e=>s.jsx(w,{children:e,props:e.props.company});export{y as default};
