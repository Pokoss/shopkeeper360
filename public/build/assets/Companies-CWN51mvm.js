import{r as o,j as e,a as w,y as c}from"./app-DlVyhzqO.js";import{A as v}from"./AdminLayout-5ZfzZxkt.js";function C({auth:m,companies:a,currentMonth:p,currentYear:h}){var x;const[s,u]=o.useState(p),[l,g]=o.useState(h),i=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],n=[],d=new Date().getFullYear();for(let t=d;t>=d-5;t--)n.push(t);const b=()=>{c.get("/admin/analytics/companies",{month:s,year:l})},j=t=>({active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",suspended:"bg-red-100 text-red-800"})[t]||"bg-gray-100 text-gray-800",f=t=>({basic:"bg-blue-100 text-blue-800",standard:"bg-purple-100 text-purple-800",premium:"bg-yellow-100 text-yellow-800"})[t]||"bg-gray-100 text-gray-800";return e.jsxs(v,{auth:m,children:[e.jsx(w,{title:"Recently Created Companies - Analytics"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Recently Created Companies"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track new companies joining the platform"})]}),e.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow-lg p-6 text-white mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Total Companies Found"}),e.jsx("h2",{className:"text-4xl font-bold mt-1",children:a.total||0}),e.jsxs("p",{className:"text-purple-100 text-sm mt-2",children:["For ",(x=i.find(t=>t.value===parseInt(s)))==null?void 0:x.label," ",l]})]}),e.jsx("div",{className:"bg-white bg-opacity-20 p-4 rounded-full",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:e.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),e.jsx("select",{value:s,onChange:t=>u(parseInt(t.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:i.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),e.jsx("select",{value:l,onChange:t=>g(parseInt(t.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:n.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsx("button",{onClick:b,className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-md hover:from-purple-700 hover:to-indigo-700 transition-all duration-200",children:"Apply Filter"})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gradient-to-r from-purple-600 to-indigo-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Company Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Owner"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Plan"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Created At"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.data&&a.data.length>0?a.data.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"font-medium text-gray-900",children:t.name}),t.slogan&&e.jsx("div",{className:"text-sm text-gray-500",children:t.slogan})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:t.owner?t.owner.name:"N/A"}),t.owner&&t.owner.email&&e.jsx("div",{className:"text-xs text-gray-500",children:t.owner.email})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${f(t.plan)}`,children:t.plan?t.plan.charAt(0).toUpperCase()+t.plan.slice(1):"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${j(t.status)}`,children:t.status?t.status.charAt(0).toUpperCase()+t.status.slice(1):"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.location||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(t.created_at).toLocaleDateString()})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:"No companies found for the selected period."})})})]})}),a.data&&a.data.length>0&&e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:a.from})," to"," ",e.jsx("span",{className:"font-medium",children:a.to})," of"," ",e.jsx("span",{className:"font-medium",children:a.total})," results"]}),e.jsx("div",{className:"flex gap-2",children:a.links.map((t,r)=>e.jsx("button",{onClick:()=>c.get(t.url),disabled:!t.url,className:`px-3 py-1 rounded ${t.active?"bg-purple-600 text-white":t.url?"bg-white text-gray-700 hover:bg-gray-100":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label}},r))})]})]})]})]})}export{C as default};
