import{r as w,j as l,y as J}from"./app-DpaNJQoL.js";import{L as Se}from"./Layout-CEMVlLDJ.js";import{r as p}from"./index-De48x6sz.js";import{X as Ce}from"./index.es-BW2tvt4h.js";import{Q as Re,B as y}from"./react-toastify.esm-CvG9xTQP.js";/* empty css                      */function O(t,r,n,e){return new(n||(n=Promise))(function(u,d){function A(_){try{v(e.next(_))}catch(R){d(R)}}function B(_){try{v(e.throw(_))}catch(R){d(R)}}function v(_){var R;_.done?u(_.value):(R=_.value,R instanceof n?R:new n(function(b){b(R)})).then(A,B)}v((e=e.apply(t,r||[])).next())})}var ge,xe=(ge=import.meta.url,async function(t={}){var r,n,e=t;e.ready=new Promise((i,a)=>{r=i,n=a});var u,d,A,B=Object.assign({},e),v=typeof window=="object",_=typeof importScripts=="function",R=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",b="";if(R){const{createRequire:i}=await Promise.resolve().then(()=>Oe);var I=i(import.meta.url),j=I("fs"),U=I("path");b=_?U.dirname(b)+"/":I("url").fileURLToPath(new URL("/build/assets/index-DTgavztf.mjs",import.meta.url)),u=(a,h)=>(a=q(a)?new URL(a):U.normalize(a),j.readFileSync(a,h?void 0:"utf8")),A=a=>{var h=u(a,!0);return h.buffer||(h=new Uint8Array(h)),h},d=(a,h,c,m=!0)=>{a=q(a)?new URL(a):U.normalize(a),j.readFile(a,m?void 0:"utf8",(s,g)=>{s?c(s):h(m?g.buffer:g)})},!e.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),e.inspect=()=>"[Emscripten Module object]"}else(v||_)&&(_?b=self.location.href:typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),ge&&(b=ge),b=b.indexOf("blob:")!==0?b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1):"",u=i=>{var a=new XMLHttpRequest;return a.open("GET",i,!1),a.send(null),a.responseText},_&&(A=i=>{var a=new XMLHttpRequest;return a.open("GET",i,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),d=(i,a,h)=>{var c=new XMLHttpRequest;c.open("GET",i,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?a(c.response):h()},c.onerror=h,c.send(null)});var D,H,S,re=e.print||console.log.bind(console),Z=e.printErr||console.error.bind(console);Object.assign(e,B),B=null,e.arguments&&e.arguments,e.thisProgram&&e.thisProgram,e.quit&&e.quit,e.wasmBinary&&(D=e.wasmBinary),e.noExitRuntime,typeof WebAssembly!="object"&&M("no native wasm support detected");var L,T,X=!1;function ne(){var i=H.buffer;e.HEAP8=new Int8Array(i),e.HEAP16=new Int16Array(i),e.HEAP32=new Int32Array(i),e.HEAPU8=L=new Uint8Array(i),e.HEAPU16=new Uint16Array(i),e.HEAPU32=T=new Uint32Array(i),e.HEAPF32=new Float32Array(i),e.HEAPF64=new Float64Array(i)}var se=[],G=[],$=[],N=0,F=null;function M(i){e.onAbort&&e.onAbort(i),Z(i="Aborted("+i+")"),X=!0,i+=". Build with -sASSERTIONS for more info.";var a=new WebAssembly.RuntimeError(i);throw n(a),a}var P,k,ue="data:application/octet-stream;base64,";function ie(i){return i.startsWith(ue)}function q(i){return i.startsWith("file://")}function K(i){if(i==P&&D)return new Uint8Array(D);if(A)return A(i);throw"both async and sync fetching of the wasm failed"}function ae(i,a,h){return function(c){if(!D&&(v||_)){if(typeof fetch=="function"&&!q(c))return fetch(c,{credentials:"same-origin"}).then(m=>{if(!m.ok)throw"failed to load wasm binary file at '"+c+"'";return m.arrayBuffer()}).catch(()=>K(c));if(d)return new Promise((m,s)=>{d(c,g=>m(new Uint8Array(g)),s)})}return Promise.resolve().then(()=>K(c))}(i).then(c=>WebAssembly.instantiate(c,a)).then(c=>c).then(h,c=>{Z("failed to asynchronously prepare wasm: "+c),M(c)})}e.locateFile?ie(P="zbar.wasm")||(k=P,P=e.locateFile?e.locateFile(k,b):b+k):P=new URL("/build/assets/zbar-BSn7mpZR.wasm",import.meta.url).href;var W,Q=i=>{for(;i.length>0;)i.shift()(e)},de=i=>{var a=i-H.buffer.byteLength+65535>>>16;try{return H.grow(a),ne(),1}catch{}},oe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,he=[null,[],[]],me=(i,a)=>{var h=he[i];a===0||a===10?((i===1?re:Z)(((c,m,s)=>{for(var g=m+s,E=m;c[E]&&!(E>=g);)++E;if(E-m>16&&c.buffer&&oe)return oe.decode(c.subarray(m,E));for(var x="";m<E;){var C=c[m++];if(128&C){var z=63&c[m++];if((224&C)!=192){var Y=63&c[m++];if((C=(240&C)==224?(15&C)<<12|z<<6|Y:(7&C)<<18|z<<12|Y<<6|63&c[m++])<65536)x+=String.fromCharCode(C);else{var ce=C-65536;x+=String.fromCharCode(55296|ce>>10,56320|1023&ce)}}else x+=String.fromCharCode((31&C)<<6|z)}else x+=String.fromCharCode(C)}return x})(h,0)),h.length=0):h.push(a)},fe={d:()=>!0,e:function(){return Date.now()},c:i=>{var a=L.length,h=2147483648;if((i>>>=0)>h)return!1;for(var c,m,s=1;s<=4;s*=2){var g=a*(1+.2/s);g=Math.min(g,i+100663296);var E=Math.min(h,(c=Math.max(i,g))+((m=65536)-c%m)%m);if(de(E))return!0}return!1},f:i=>52,b:function(i,a,h,c,m){return 70},a:(i,a,h,c)=>{for(var m=0,s=0;s<h;s++){var g=T[a>>2],E=T[a+4>>2];a+=8;for(var x=0;x<E;x++)me(i,L[g+x]);m+=E}return T[c>>2]=m,0}};function V(){function i(){W||(W=!0,e.calledRun=!0,X||(Q(G),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),function(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)a=e.postRun.shift(),$.unshift(a);var a;Q($)}()))}N>0||(function(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)a=e.preRun.shift(),se.unshift(a);var a;Q(se)}(),N>0||(e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),i()},1)):i()))}if(function(){var i,a,h,c,m={a:fe};function s(g,E){var x,C=g.exports;return H=(S=C).g,ne(),S.s,x=S.h,G.unshift(x),function(z){if(N--,e.monitorRunDependencies&&e.monitorRunDependencies(N),N==0&&F){var Y=F;F=null,Y()}}(),C}if(N++,e.monitorRunDependencies&&e.monitorRunDependencies(N),e.instantiateWasm)try{return e.instantiateWasm(m,s)}catch(g){Z("Module.instantiateWasm callback failed with error: "+g),n(g)}(i=D,a=P,h=m,c=function(g){s(g.instance)},i||typeof WebAssembly.instantiateStreaming!="function"||ie(a)||q(a)||R||typeof fetch!="function"?ae(a,h,c):fetch(a,{credentials:"same-origin"}).then(g=>WebAssembly.instantiateStreaming(g,h).then(c,function(E){return Z("wasm streaming compile failed: "+E),Z("falling back to ArrayBuffer instantiation"),ae(a,h,c)}))).catch(n)}(),e._ImageScanner_create=()=>(e._ImageScanner_create=S.i)(),e._ImageScanner_destory=i=>(e._ImageScanner_destory=S.j)(i),e._ImageScanner_set_config=(i,a,h,c)=>(e._ImageScanner_set_config=S.k)(i,a,h,c),e._ImageScanner_enable_cache=(i,a)=>(e._ImageScanner_enable_cache=S.l)(i,a),e._ImageScanner_recycle_image=(i,a)=>(e._ImageScanner_recycle_image=S.m)(i,a),e._ImageScanner_get_results=i=>(e._ImageScanner_get_results=S.n)(i),e._ImageScanner_scan=(i,a)=>(e._ImageScanner_scan=S.o)(i,a),e._Image_create=(i,a,h,c,m,s)=>(e._Image_create=S.p)(i,a,h,c,m,s),e._Image_destory=i=>(e._Image_destory=S.q)(i),e._Image_get_symbols=i=>(e._Image_get_symbols=S.r)(i),e._free=i=>(e._free=S.t)(i),e._malloc=i=>(e._malloc=S.u)(i),F=function i(){W||V(),W||(F=i)},e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return V(),t.ready});let _e;const Ie=O(void 0,void 0,void 0,function*(){if(_e=yield xe(),!_e)throw Error("WASM was not loaded");return _e}),pe=()=>O(void 0,void 0,void 0,function*(){return yield Ie});var f,te,ye;(function(t){t[t.ZBAR_NONE=0]="ZBAR_NONE",t[t.ZBAR_PARTIAL=1]="ZBAR_PARTIAL",t[t.ZBAR_EAN2=2]="ZBAR_EAN2",t[t.ZBAR_EAN5=5]="ZBAR_EAN5",t[t.ZBAR_EAN8=8]="ZBAR_EAN8",t[t.ZBAR_UPCE=9]="ZBAR_UPCE",t[t.ZBAR_ISBN10=10]="ZBAR_ISBN10",t[t.ZBAR_UPCA=12]="ZBAR_UPCA",t[t.ZBAR_EAN13=13]="ZBAR_EAN13",t[t.ZBAR_ISBN13=14]="ZBAR_ISBN13",t[t.ZBAR_COMPOSITE=15]="ZBAR_COMPOSITE",t[t.ZBAR_I25=25]="ZBAR_I25",t[t.ZBAR_DATABAR=34]="ZBAR_DATABAR",t[t.ZBAR_DATABAR_EXP=35]="ZBAR_DATABAR_EXP",t[t.ZBAR_CODABAR=38]="ZBAR_CODABAR",t[t.ZBAR_CODE39=39]="ZBAR_CODE39",t[t.ZBAR_PDF417=57]="ZBAR_PDF417",t[t.ZBAR_QRCODE=64]="ZBAR_QRCODE",t[t.ZBAR_SQCODE=80]="ZBAR_SQCODE",t[t.ZBAR_CODE93=93]="ZBAR_CODE93",t[t.ZBAR_CODE128=128]="ZBAR_CODE128",t[t.ZBAR_SYMBOL=255]="ZBAR_SYMBOL",t[t.ZBAR_ADDON2=512]="ZBAR_ADDON2",t[t.ZBAR_ADDON5=1280]="ZBAR_ADDON5",t[t.ZBAR_ADDON=1792]="ZBAR_ADDON"})(f||(f={})),function(t){t[t.ZBAR_CFG_ENABLE=0]="ZBAR_CFG_ENABLE",t[t.ZBAR_CFG_ADD_CHECK=1]="ZBAR_CFG_ADD_CHECK",t[t.ZBAR_CFG_EMIT_CHECK=2]="ZBAR_CFG_EMIT_CHECK",t[t.ZBAR_CFG_ASCII=3]="ZBAR_CFG_ASCII",t[t.ZBAR_CFG_BINARY=4]="ZBAR_CFG_BINARY",t[t.ZBAR_CFG_NUM=5]="ZBAR_CFG_NUM",t[t.ZBAR_CFG_MIN_LEN=32]="ZBAR_CFG_MIN_LEN",t[t.ZBAR_CFG_MAX_LEN=33]="ZBAR_CFG_MAX_LEN",t[t.ZBAR_CFG_UNCERTAINTY=64]="ZBAR_CFG_UNCERTAINTY",t[t.ZBAR_CFG_POSITION=128]="ZBAR_CFG_POSITION",t[t.ZBAR_CFG_TEST_INVERTED=129]="ZBAR_CFG_TEST_INVERTED",t[t.ZBAR_CFG_X_DENSITY=256]="ZBAR_CFG_X_DENSITY",t[t.ZBAR_CFG_Y_DENSITY=257]="ZBAR_CFG_Y_DENSITY"}(te||(te={})),function(t){t[t.ZBAR_ORIENT_UNKNOWN=-1]="ZBAR_ORIENT_UNKNOWN",t[t.ZBAR_ORIENT_UP=0]="ZBAR_ORIENT_UP",t[t.ZBAR_ORIENT_RIGHT=1]="ZBAR_ORIENT_RIGHT",t[t.ZBAR_ORIENT_DOWN=2]="ZBAR_ORIENT_DOWN",t[t.ZBAR_ORIENT_LEFT=3]="ZBAR_ORIENT_LEFT"}(ye||(ye={}));class Ee{constructor(r,n){this.ptr=r,this.inst=n}checkAlive(){if(!this.ptr)throw Error("Call after destroyed")}getPointer(){return this.checkAlive(),this.ptr}}class be{constructor(r,n){this.ptr=r,this.ptr32=r>>2,this.buf=n,this.HEAP8=new Int8Array(n),this.HEAPU32=new Uint32Array(n),this.HEAP32=new Int32Array(n)}}class Ae extends be{get type(){return this.HEAPU32[this.ptr32]}get data(){const r=this.HEAPU32[this.ptr32+4],n=this.HEAPU32[this.ptr32+5];return Int8Array.from(this.HEAP8.subarray(n,n+r))}get points(){const r=this.HEAPU32[this.ptr32+7],n=this.HEAPU32[this.ptr32+8]>>2,e=[];for(let u=0;u<r;++u){const d=this.HEAP32[n+2*u],A=this.HEAP32[n+2*u+1];e.push({x:d,y:A})}return e}get orientation(){return this.HEAP32[this.ptr32+9]}get next(){const r=this.HEAPU32[this.ptr32+11];return r?new Ae(r,this.buf):null}get time(){return this.HEAPU32[this.ptr32+13]}get cacheCount(){return this.HEAP32[this.ptr32+14]}get quality(){return this.HEAP32[this.ptr32+15]}}class Ze extends be{get head(){const r=this.HEAPU32[this.ptr32+2];return r?new Ae(r,this.buf):null}}class le{constructor(r){this.type=r.type,this.typeName=f[this.type],this.data=r.data,this.points=r.points,this.orientation=r.orientation,this.time=r.time,this.cacheCount=r.cacheCount,this.quality=r.quality}static createSymbolsFromPtr(r,n){if(r==0)return[];let e=new Ze(r,n).head;const u=[];for(;e!==null;)u.push(new le(e)),e=e.next;return u}decode(r){return new TextDecoder(r).decode(this.data)}}class Ne extends Ee{static createFromGrayBuffer(r,n,e,u=0){return O(this,void 0,void 0,function*(){const d=yield pe(),A=new Uint8Array(e),B=r*n;if(B!==A.byteLength)throw Error(`data length (${A.byteLength} bytes) does not match width and height (${B} bytes)`);const v=d._malloc(B);return d.HEAPU8.set(A,v),new this(d._Image_create(r,n,808466521,v,B,u),d)})}static createFromRGBABuffer(r,n,e,u=0){return O(this,void 0,void 0,function*(){const d=yield pe(),A=new Uint8Array(e),B=r*n;if(4*B!==A.byteLength)throw Error(`data length (${A.byteLength} bytes) does not match width and height (${4*B} bytes)`);const v=d._malloc(B),_=v+B,R=d.HEAPU8;for(let b=v,I=0;b<_;b++,I+=4)R[b]=19595*A[I]+38469*A[I+1]+7472*A[I+2]>>16;return new this(d._Image_create(r,n,808466521,v,B,u),d)})}destroy(){this.checkAlive(),this.inst._Image_destory(this.ptr),this.ptr=0}getSymbols(){this.checkAlive();const r=this.inst._Image_get_symbols(this.ptr);return le.createSymbolsFromPtr(r,this.inst.HEAPU8.buffer)}}class Pe extends Ee{static create(){return O(this,void 0,void 0,function*(){const r=yield pe();return new this(r._ImageScanner_create(),r)})}destroy(){this.checkAlive(),this.inst._ImageScanner_destory(this.ptr),this.ptr=0}setConfig(r,n,e){return this.checkAlive(),this.inst._ImageScanner_set_config(this.ptr,r,n,e)}enableCache(r=!0){this.checkAlive(),this.inst._ImageScanner_enable_cache(this.ptr,r)}recycleImage(r){this.checkAlive(),this.inst._ImageScanner_recycle_image(this.ptr,r.getPointer())}getResults(){this.checkAlive();const r=this.inst._ImageScanner_get_results(this.ptr);return le.createSymbolsFromPtr(r,this.inst.HEAPU8.buffer)}scan(r){return this.checkAlive(),this.inst._ImageScanner_scan(this.ptr,r.getPointer())}}const we=()=>O(void 0,void 0,void 0,function*(){const t=yield Pe.create();return t.setConfig(f.ZBAR_NONE,te.ZBAR_CFG_BINARY,1),t});let Be;const De=(t,r)=>O(void 0,void 0,void 0,function*(){r===void 0&&(r=Be||(yield we()),Be=r);const n=r.scan(t);if(n<0)throw Error("Scan Failed");return n===0?[]:t.getSymbols()}),Te=(t,r,n,e)=>O(void 0,void 0,void 0,function*(){const u=yield Ne.createFromRGBABuffer(r,n,t),d=yield De(u,e);return u.destroy(),d}),Oe=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));/*!
 * @preflower/barcode-detector-polyfill v0.9.20
 * A WebAssembly polyfill for the Barcode Detection API
 * Built 2024-04-19T09:28:26.252Z
 * (c) 2021-present Ferdinand Kasper <fkasper@modus-operandi.at>
 * Released under the MIT license.
 * 
 * This work uses https://github.com/undecaf/zbar-wasm.git as per
 * LGPL-2.1 section 6 (https://opensource.org/licenses/LGPL-2.1).
 */function Fe(t,r,n,e){return new(n||(n=Promise))(function(u,d){function A(_){try{v(e.next(_))}catch(R){d(R)}}function B(_){try{v(e.throw(_))}catch(R){d(R)}}function v(_){var R;_.done?u(_.value):(R=_.value,R instanceof n?R:new n(function(b){b(R)})).then(A,B)}v((e=e.apply(t,r||[])).next())})}class o{constructor(r,n=te.ZBAR_CFG_ENABLE,e=1){this.symbolType=r,this.configType=n,this.number=e,this.configSteps=[this]}static register(r,n,e=n.symbolType){return o.formatsToConfigs[r]=n,o.typesToFormats[e]=o.typesToFormats[e]||r,n}static formats(){return Object.keys(o.formatsToConfigs)}static toFormat(r){return o.typesToFormats[r]}static configure(r,n){var e;(e=o.formatsToConfigs[n])===null||e===void 0||e.configSteps.forEach(u=>r.setConfig(u.symbolType,u.configType,u.number))}add(r){return this.configSteps.push(r),this}}var ve;o.formatsToConfigs={},o.typesToFormats={},o.register("codabar",new o(f.ZBAR_CODABAR)),o.register("code_39",new o(f.ZBAR_CODE39)),o.register("code_93",new o(f.ZBAR_CODE93)),o.register("code_128",new o(f.ZBAR_CODE128)),o.register("databar",new o(f.ZBAR_DATABAR)),o.register("databar_exp",new o(f.ZBAR_DATABAR_EXP)),o.register("ean_2",new o(f.ZBAR_EAN2)),o.register("ean_5",new o(f.ZBAR_EAN5)),o.register("ean_8",new o(f.ZBAR_EAN8)),o.register("ean_13",new o(f.ZBAR_EAN13)),o.register("ean_13+2",new o(f.ZBAR_EAN13)).add(new o(f.ZBAR_EAN2)),o.register("ean_13+5",new o(f.ZBAR_EAN13)).add(new o(f.ZBAR_EAN5)),o.register("isbn_10",new o(f.ZBAR_ISBN10)).add(new o(f.ZBAR_EAN13)),o.register("isbn_13",new o(f.ZBAR_ISBN13)).add(new o(f.ZBAR_EAN13)),o.register("isbn_13+2",new o(f.ZBAR_ISBN13)).add(new o(f.ZBAR_EAN13)).add(new o(f.ZBAR_EAN2)),o.register("isbn_13+5",new o(f.ZBAR_ISBN13)).add(new o(f.ZBAR_EAN13)).add(new o(f.ZBAR_EAN5)),o.register("itf",new o(f.ZBAR_I25)),o.register("qr_code",new o(f.ZBAR_QRCODE)),o.register("sq_code",new o(f.ZBAR_SQCODE)),o.register("upc_a",new o(f.ZBAR_UPCA)).add(new o(f.ZBAR_EAN13)),o.register("upc_e",new o(f.ZBAR_UPCE)).add(new o(f.ZBAR_EAN13)),function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.UPRIGHT=0]="UPRIGHT",t[t.ROTATED_RIGHT=1]="ROTATED_RIGHT",t[t.UPSIDE_DOWN=2]="UPSIDE_DOWN",t[t.ROTATED_LEFT=3]="ROTATED_LEFT"}(ve||(ve={}));class je{}const Ue=(()=>{try{return new OffscreenCanvas(1,1).getContext("2d")instanceof OffscreenCanvasRenderingContext2D}catch{return!1}})();class ee{constructor(r={}){if(r.formats!==void 0){if(!Array.isArray(r.formats)||!r.formats.length)throw new TypeError(`Barcode formats should be a non-empty array of strings but are: ${JSON.stringify(r)}`);const n=r.formats.filter(e=>!o.formats().includes(e));if(n.length)throw new TypeError(`Unsupported barcode format(s): ${n.join(", ")}`)}this.formats=r.formats||o.formats(),this.zbarConfig=r.zbar||new je}static getSupportedFormats(){return Promise.resolve(o.formats())}detect(r){if(!ee.isImageBitmapSource(r))throw new TypeError("BarcodeDetector.detect() argument is not an ImageBitmapSource");const n=ee.intrinsicDimensions(r);if(n.width===0||n.height===0)return Promise.resolve([]);try{return Promise.all([this.toImageData(r),this.getScanner()]).then(e=>{const u=e[0],d=e[1];return this.zbarConfig.enableCache!==void 0&&d.enableCache(this.zbarConfig.enableCache),Te(u.data,u.width,u.height,d)}).then(e=>e.map(u=>this.toBarcodeDetectorResult(u)))}catch(e){return Promise.reject(e)}}getScanner(){return new Promise((r,n)=>Fe(this,void 0,void 0,function*(){if(!this.scanner){const e=yield we();this.formats.length>0&&(e.setConfig(f.ZBAR_NONE,te.ZBAR_CFG_ENABLE,0),this.formats.forEach(u=>o.configure(e,u))),this.scanner=e}r(this.scanner)}))}toImageData(r){const n=e=>{const u=ee.intrinsicDimensions(e);this.canvas&&this.canvas.width===u.width&&this.canvas.height===u.height||(this.canvas=function(B,v){if(Ue)return new OffscreenCanvas(B,v);{const _=document.createElement("canvas");return _.width=B,_.height=v,_}}(u.width,u.height));const d=this.canvas,A=d.getContext("2d");return A.drawImage(e,0,0),A.getImageData(0,0,d.width,d.height)};if(r instanceof ImageData)return Promise.resolve(r);if(r instanceof Blob){const e=document.createElement("img");return e.src=URL.createObjectURL(r),e.decode().then(()=>n(e)).finally(()=>URL.revokeObjectURL(e.src))}return r instanceof CanvasRenderingContext2D?Promise.resolve(r.getImageData(0,0,r.canvas.width,r.canvas.height)):Promise.resolve(n(r))}toBarcodeDetectorResult(r){const n={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0};return r.points.forEach(e=>{n.minX=Math.min(n.minX,e.x),n.maxX=Math.max(n.maxX,e.x),n.minY=Math.min(n.minY,e.y),n.maxY=Math.max(n.maxY,e.y)}),{format:o.toFormat(r.type),rawValue:r.decode(this.zbarConfig.encoding),orientation:r.orientation,quality:r.quality,boundingBox:DOMRectReadOnly.fromRect({x:n.minX,y:n.minY,width:n.maxX-n.minX,height:n.maxY-n.minY}),cornerPoints:[{x:n.minX,y:n.minY},{x:n.maxX,y:n.minY},{x:n.maxX,y:n.maxY},{x:n.minX,y:n.maxY}]}}static isImageBitmapSource(r){return r instanceof HTMLImageElement||r instanceof HTMLVideoElement||r instanceof HTMLCanvasElement||r instanceof Blob||r instanceof ImageData||r instanceof CanvasRenderingContext2D||r instanceof ImageBitmap||r&&r.width==0||r&&r.height==0}static intrinsicDimensions(r){return{width:Number(r.naturalWidth||r.videoWidth||r.width),height:Number(r.naturalHeight||r.videoHeight||r.height)}}}if(typeof window<"u")try{window.BarcodeDetector.getSupportedFormats()}catch{window.BarcodeDetector=ee}function He({company:t,products:r,measurements:n}){const[e,u]=w.useState(""),[d,A]=w.useState(""),[B,v]=w.useState("No barcode scanned"),[_,R]=w.useState(""),[b,I]=w.useState(""),[j,U]=w.useState(""),[D,H]=w.useState(""),[S,re]=w.useState(""),[Z,L]=w.useState(""),[T,X]=w.useState(""),[ne,se]=w.useState(""),[G,$]=w.useState(""),[N,F]=w.useState(""),[M,P]=w.useState(""),[k,ue]=w.useState("");function ie(s,g,E,x,C,z,Y,ce){m("xl"),ue(s),re(g),L(E),se(x),X(C),$(z),F(ce),P(Y)}const[q,K]=w.useState(r.current_page),ae=s=>{J.get(`/dashboard/${t.company.slug}/inventory/product`,{page:s,search:D},{preserveState:!0})},W=s=>{K(s),ae(s)},Q=s=>{s.preventDefault(),J.post("/delete-product",{productId:k},{onSuccess:()=>{y.success("Product deleted successfully"),m()}})},de=s=>{s.preventDefault(),y.loading();var g=t.company_id;if(S=="")y.dismiss(),y.error("Write product name");else if(Z=="")y.dismiss(),y.error("Select the quantity available");else if(T=="")y.dismiss(),y.error("Set the measurement");else if(G=="")y.dismiss();else if(M=="")y.dismiss();else try{J.post("/edit-product",{companyId:g,productId:k,editProduct:S,editAvailable:Z,editBarcode:ne,editMeasurement:T,editCostPrice:M,editSellingPrice:G,editWholeSaleSellingPrice:N},{onSuccess:()=>{y.success("Product edited successfully"),m()}})}catch(E){y.dismiss(),y.error(E)}},oe=s=>{s.preventDefault(),H(s.target.value),K(1);var g=s.target.value;J.get(`/dashboard/${t.company.slug}/inventory/product`,{search:g,page:1},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{}})},he=async s=>{s.preventDefault(),y.loading();var g=t.company_id;if(e=="")y.dismiss(),y.error("Write product name");else if(d=="")y.dismiss(),y.error("Select the measurement");else if(_=="")y.dismiss(),y.error("Set the selling Price");else if(j=="")y.dismiss();else try{J.post("/add-product",{companyId:g,product:e,measurement:d,barcode:B,costPrice:j,sellingPrice:_,wholeSaleSellingPrice:b},{onSuccess:()=>{y.success("Product added successfully"),u(""),A(""),v(""),R(""),I(""),U(""),a()},onError:E=>{y.error(E)}})}catch(E){y.dismiss(),y.error(E)}};console.log(d);const me={headRow:{style:{border:"none"}},headCells:{style:{color:"#997400",fontSize:"14px"}},rows:{highlightOnHoverStyle:{backgroundColor:"rgb(230, 244, 244)",borderBottomColor:"#FFFFFF",outline:"1px solid #FFFFFF"}},pagination:{style:{border:"none"}}},fe=[{name:"Product",selector:s=>s.name},{name:"Available",selector:s=>`${s.available}`},{name:"Retail Price (UGX)",selector:s=>`${Intl.NumberFormat("en-US").format(s.retail_price)} / ${s.measurement.abbriviation}`},,{name:"Added On",selector:s=>new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},{selector:s=>l.jsx("div",{className:"flex items-center",children:l.jsx("button",{onClick:()=>ie(s.id,s.name,s.available,s.barcode,s.measurement.id,s.retail_price,s.cost_price,s.wholesale_price),className:"bg-green-600 rounded-md p-1",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"white",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})})})})}],[V,i]=w.useState(null),a=s=>i(s),[h,c]=w.useState(null),m=s=>c(s);return l.jsxs("div",{children:[l.jsx(w.Fragment,{children:l.jsxs(p.Dialog,{open:V==="xl",size:V,handler:a,children:[l.jsx(p.DialogHeader,{children:l.jsx(p.Typography,{variant:"h5",color:"blue-gray",children:"Add a product"})}),l.jsxs("form",{onSubmit:he,children:[l.jsxs(p.DialogBody,{divider:!0,className:"h-[28rem] overflow-scroll grid place-items-center gap-4",children:[l.jsx(p.Input,{label:"Product",value:e,onChange:s=>u(s.target.value),size:"sm"}),l.jsx(p.Select,{color:"deep-orange",label:"Measurement",value:d,onChange:s=>A(s),children:n&&n.map((s,g)=>l.jsxs(p.Option,{value:s.id,children:[" ",s.name," (",s.abbriviation,")"]}))}),l.jsx(p.Input,{label:"Barcode",value:B,onChange:s=>v(s.target.value),size:"sm"}),l.jsx(p.Input,{label:"Cost Price",type:"number",value:j,onChange:s=>U(s.target.value),size:"sm"}),l.jsx(p.Input,{label:"Retail Selling Price",value:_,onChange:s=>R(s.target.value),size:"sm"}),l.jsx(Re,{})]}),l.jsxs(p.DialogFooter,{className:"space-x-2",children:[l.jsx(p.Button,{onClick:a,variant:"gradient",color:"blue-gray",children:"Close"}),l.jsx(p.Button,{type:"submit",className:"bg-primary",children:"Add"})]})]})]})}),l.jsx(Ce,{title:l.jsxs("div",{className:"flex flex-col md:flex-row space-x-0 md:space-x-5 space-y-5 md:space-y-0 whitespace-nowrap items-start md:items-center justify-between w-full border-b-2 border-primary pb-3 pt-2",children:[l.jsx("span",{children:"Products"}),l.jsxs("div",{className:"flex space-x-3 items-center md:space-x-5 w-full md:w-1/2 md:justify-end print:hidden",children:[l.jsx(p.Input,{type:"text",label:"Search",value:D,onChange:oe,className:"md:w-full"}),l.jsx("span",{children:l.jsxs(p.Button,{size:"sm",color:"success",type:"submit",className:"flex h-10 items-center bg-primary",onClick:()=>a("xl"),children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"mr-2 w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Add"]})})]})]}),columns:fe,data:r.data,customStyles:me,pointerOnHover:!0,onRowClicked:(s,g)=>!children&&ExpandableComponent?null:editRow(s,g),highlightOnHover:!0,pagination:!0,paginationServer:!0,paginationTotalRows:r.total,paginationPerPage:r.per_page,onChangePage:W,paginationRowsPerPageOptions:[]}),l.jsx(w.Fragment,{children:l.jsxs(p.Dialog,{open:h==="xl",size:h,handler:m,children:[l.jsx(p.DialogHeader,{children:l.jsx(p.Typography,{variant:"h5",color:"blue-gray",children:"Edit Product"})}),l.jsxs("form",{onSubmit:de,children:[l.jsxs(p.DialogBody,{divider:!0,className:"grid place-items-center gap-4",children:[l.jsx(p.Input,{label:"Product",value:S,onChange:s=>re(s.target.value),size:"sm"}),l.jsx(p.Input,{label:"Available",value:Z,onChange:s=>L(s.target.value),size:"sm"}),l.jsx(p.Select,{color:"deep-orange",label:"Measurement",value:T,onChange:s=>X(s),children:n&&n.map((s,g)=>l.jsxs(p.Option,{value:s.id,children:[" ",s.name," (",s.abbriviation,")"]}))}),l.jsx(p.Input,{label:"Cost Price",type:"number",value:M,onChange:s=>P(s.target.value),size:"sm"}),l.jsx(p.Input,{label:"Retail Price",type:"number",value:G,onChange:s=>$(s.target.value),size:"sm"})]}),l.jsx(p.DialogFooter,{children:l.jsxs("div",{className:"flex w-full justify-between",children:[l.jsx(p.Button,{onClick:Q,variant:"gradient",color:"red",children:"Delete"}),l.jsxs("div",{className:"space-x-2",children:[l.jsx(p.Button,{onClick:m,variant:"gradient",color:"blue-gray",children:"Close"}),l.jsx(p.Button,{type:"submit",className:"bg-primary",children:"Edit"})]}),l.jsx(Re,{})]})})]})]})})]})}He.layout=t=>l.jsx(Se,{children:t,props:t.props.company});export{He as default};
